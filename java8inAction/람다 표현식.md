# 람다 표현식
## 람다란 무엇인가?
람다표현식은 메서드로 전달할 수 있는 익명 함수를 단순화한 것이라고 할 수 있음, 람다표현식에는 파라미터 리스트, 바디, 반환 형식, 발생할 수 있는 예외 리스트 가질수 있다.

* 익명 : 보통의 메서드와는 달리 이름이 없으므로 **익명**이라는 표현한다. 구현해야 할 코드에 대한 걱정거리가 줄어든다.
* 함수 : 람다는 메서드 처럼 특정 클래스에 족동되지 않으 함수라고 부른다. 하지만 메서드처럼 파라미터 리스트 바디, 변환 형식, 가능한 예외 리스트를 포함한다.
* 전달 : 람다 표현식을 메서드 인수로 전달하거나 변수로 지정할 수 있다.
* 간결성 : 익명 클래스처럼 많은 자질구레한 코드를 구현할 필요가 없다.


```java
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```
* 파라미터 리스트 : `(Apple a1, Apple a2)`
* 화살표 : 화살표 (->)는 람다의 파라미터 리스트와 바디를 구분한다.
* 람다의 바디 : `a1.getWeight().compareTo(a2.getWeight());` 람다의 반환값에 해당하는 표현식이다.

## 람다 표현식 사용처
### 함수형 인터페이스
함수형 인터페이스는 정확히 하나의 추상 메서드를 지정하는 인터페이스
**추상메소드가 오직하나면 함수형 인터페이스**이다.

```java
public interface Comparator<T>{
    int compare(T o1, T o2);
}
public interface Runnable{
    void run();
}
public interface ActionListener extends EventListener{
    void actionPerformed(ActionEvent e);
}
public interface Callable<V>{
    V call();
}
public interface PrivilegedAction<V>{
    T run();
}
```
람다 표현식으로 함수형 인터페이스의 추상 메서드 구현을 직접 전달할 수 있으므로 **전체 표현식을 함수형 인터페이스의 인스턴스로 취급**(기술적으로 따지면 함수형 인터페이스를 concrete 구현한 클레스의 인스턴스)할 수 있다.

### 함수 디스크립터
람다표현식의 시그너처를 서술하는 메서드를 **함수 디스크립터**라고 부른다.
```java
()->void; //파라미터가 없고 리턴값이 void
(Apple, Apple)->int; // 두 개의 Apple을 인수로 받아 int를 반환하는 함수를 가르킨다 
```

## 형식 검사, 형식 추론, 제약
람다표현식 자체에는 람다가 어떤 함수형 인터페이스를 구현하는지의 정보가 포함되어 있지 않기때문에, 람다 표현식을 더 제대로 이해하려면 람다의 실제 형식을 파악해야함.
### 형식검사
람다가 사용되는 Context를 이용해서 람다의 Type을 추론할 수 있다. 어떤 Context(예를 들면 람다가 전달될 메서드 파라미터나 람다가 할당되는 변수등)에서 기대되는 람다 표현식으로 형식을 대상 형식 이라고 부른다.

다음 쿼드의 형식 확인 과정을 보여준다. 다음과 같은 순서로 형식 확인 과정이 진행된다.
```java y 
List<Apple> haavierThan150g = filter(inventory, (Apple e) -> a.getWeight() > 150);
```

1. filter 메서드의 선언을 확인한다.
2. filter 메서드 두 번째 파라미터로 `Predicate<Apple>` 형식(대상 형식)을 기대한다.
3. `Predicate<Apple>`은 test라는 한 개의 추상 메서드를 정의하는 함수형 인터페이스다.
4. `test` 메서드는 `Apple`을 받아 `boolean`을 반환하는 함수 디스크립터를 묘사한다.
5. `filter` 메서드로 전달된 인수는 이와 같은 요구사항을 만족해야 한다.
### 같은 람다, 다른 함수형 인터페이스
대상 형식 이라는 특성 때문에 같은 람다 표현식이더라도 호환되는 추상 메서드를 가진 다른 함수형 인터페이스로 사용될 수 있다.
```java
Callable<Integer> c = () -> 42;
PrivilegedAction<Integer> p = () -> 42;
```